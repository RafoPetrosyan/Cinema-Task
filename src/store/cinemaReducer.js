
const defaultState = {
    cinemaList: [
        [
            {
                id: 1,
                fullName: '',
                date: '',
                row: 1,
                occupation: false,
            },
            {
                id: 2,
                fullName: 'Karo Manukyan',
                date: '01/02/22',
                row: 1,
                occupation: true,
            },
            {
                id: 3,
                fullName: '',
                date: '',
                row: 1,
                occupation: false,
            },
            {
                id: 4,
                fullName: '',
                date: '',
                row: 1,
                occupation: false,
            },
            {
                id: 5,
                fullName: '',
                date: '',
                row: 1,
                occupation: false,
            },
            {
                id: 6,
                fullName: '',
                date: '',
                row: 1,
                occupation: false,
            },
            {
                id: 7,
                fullName: 'Poxos Poxosyan',
                date: '01/02/22',
                row: 1,
                occupation: true,
            },
            {
                id: 8,
                fullName: '',
                date: '',
                row: 1,
                occupation: false,
            },
        ],
        [
            {
                id: 9,
                fullName: '',
                date: '',
                row: 2,
                occupation: false,
            },
            {
                id: 10,
                fullName: '',
                date: '',
                row: 2,
                occupation: false,
            },
            {
                id: 11,
                fullName: '',
                date: '',
                row: 2,
                occupation: false,
            },
            {
                id: 12,
                fullName: '',
                date: '',
                row: 2,
                occupation: false,
            },
            {
                id: 13,
                fullName: '',
                date: '',
                row: 2,
                occupation: false,
            },
            {
                id: 14,
                fullName: '',
                date: '',
                row: 2,
                occupation: false,
            },
            {
                id: 15,
                fullName: '',
                date: '',
                row: 2,
                occupation: false,
            },
            {
                id: 16,
                fullName: '',
                date: '',
                row: 2,
                occupation: false,
            },
        ],
        [
            {
                id: 17,
                fullName: '',
                date: '',
                row: 3,
                occupation: false,
            },
            {
                id: 18,
                fullName: '',
                date: '',
                row: 3,
                occupation: false,
            },
            {
                id: 19,
                fullName: '',
                date: '',
                row: 3,
                occupation: false,
            },
            {
                id: 20,
                fullName: '',
                date: '',
                row: 3,
                occupation: false,
            },
            {
                id: 21,
                fullName: '',
                date: '',
                row: 3,
                occupation: false,
            },
            {
                id: 22,
                fullName: '',
                date: '',
                row: 3,
                occupation: false,
            },
            {
                id: 23,
                fullName: '',
                date: '',
                row: 3,
                occupation: false,
            },
            {
                id: 24,
                fullName: 'Armen Sahakyan',
                date: '02/02/22',
                row: 3,
                occupation: true,
            },
        ],
        [
            {
                id: 25,
                fullName: '',
                date: '',
                row: 4,
                occupation: false,
            },
            {
                id: 26,
                fullName: '',
                date: '',
                row: 4,
                occupation: false,
            },
            {
                id: 27,
                fullName: '',
                date: '',
                row: 4,
                occupation: false,
            },
            {
                id: 28,
                fullName: '',
                date: '',
                row: 4,
                occupation: false,
            },
            {
                id: 29,
                fullName: '',
                date: '',
                row: 4,
                occupation: false,
            },
            {
                id: 30,
                fullName: '',
                date: '',
                row: 4,
                occupation: false,
            },
            {
                id: 31,
                fullName: '',
                date: '',
                row: 4,
                occupation: false,
            },
            {
                id: 32,
                fullName: '',
                date: '',
                row: 4,
                occupation: false,
            },
        ],
        [
            {
                id: 33,
                fullName: '',
                date: '',
                row: 5,
                occupation: false,
            },
            {
                id: 34,
                fullName: '',
                date: '',
                row: 5,
                occupation: false,
            },
            {
                id: 35,
                fullName: '',
                date: '',
                row: 5,
                occupation: false,
            },
            {
                id: 36,
                fullName: '',
                date: '',
                row: 5,
                occupation: false,
            },
            {
                id: 37,
                fullName: '',
                date: '',
                row: 5,
                occupation: false,
            },
            {
                id: 38,
                fullName: '',
                date: '',
                row: 5,
                occupation: false,
            },
            {
                id: 39,
                fullName: '',
                date: '',
                row: 5,
                occupation: false,
            },
            {
                id: 40,
                fullName: '',
                date: '',
                row: 5,
                occupation: false,
            },
        ],
        [
            {
                id: 41,
                fullName: '',
                date: '',
                row: 6,
                occupation: false,
            },
            {
                id: 42,
                fullName: '',
                date: '',
                row: 6,
                occupation: false,
            },
            {
                id: 43,
                fullName: '',
                date: '',
                row: 6,
                occupation: false,
            },
            {
                id: 44,
                fullName: '',
                date: '',
                row: 6,
                occupation: false,
            },
            {
                id: 45,
                fullName: '',
                date: '',
                row: 6,
                occupation: false,
            },
            {
                id: 46,
                fullName: '',
                date: '',
                row: 6,
                occupation: false,
            },
            {
                id: 47,
                fullName: '',
                date: '',
                row: 6,
                occupation: false,
            },
            {
                id: 48,
                fullName: '',
                date: '',
                row: 6,
                occupation: false,
            },
        ],
        [
            {
                id: 49,
                fullName: '',
                date: '',
                row: 7,
                occupation: false,
            },
            {
                id: 50,
                fullName: '',
                date: '',
                row: 7,
                occupation: false,
            },
            {
                id: 51,
                fullName: 'Mane Karapetyan',
                date: '03/02/22',
                row: 7,
                occupation: true,
            },
            {
                id: 52,
                fullName: '',
                date: '',
                row: 7,
                occupation: false,
            },
            {
                id: 53,
                fullName: '',
                date: '',
                row: 7,
                occupation: false,
            },
            {
                id: 54,
                fullName: '',
                date: '',
                row: 7,
                occupation: false,
            },
            {
                id: 55,
                fullName: '',
                date: '',
                row: 7,
                occupation: false,
            },
            {
                id: 56,
                fullName: '',
                date: '',
                row: 7,
                occupation: false,
            },
        ],
        [
            {
                id: 57,
                fullName: '',
                date: '',
                row: 8,
                occupation: false,
            },
            {
                id: 58,
                fullName: '',
                date: '',
                row: 8,
                occupation: false,
            },
            {
                id: 59,
                fullName: '',
                date: '',
                row: 8,
                occupation: false,
            },
            {
                id: 60,
                fullName: '',
                date: '',
                row: 8,
                occupation: false,
            },
            {
                id: 61,
                fullName: '',
                date: '',
                row: 8,
                occupation: false,
            },
            {
                id: 62,
                fullName: '',
                date: '',
                row: 8,
                occupation: false,
            },
            {
                id: 63,
                fullName: '',
                date: '',
                row: 8,
                occupation: false,
            },
            {
                id: 64,
                fullName: '',
                date: '',
                row: 8,
                occupation: false,
            },
        ],
        
    ],
};

const ACTION_TYPE = {
    BOOKING: 'BOOKING',
    DELETE_BOOKING: 'DELETE_BOOKING',
    EDITE_NAME: 'EDITE_NAME',
};

const bookingStore = (arr, payload) =>{
    return arr.map(item =>{
        return item.map(element =>{
            if(element.id === payload.id){
                element.fullName = payload.fullName;
                element.date = payload.date;
                element.occupation = true;
                return element;
            }
            return element;
        })
    })
}

const deleteBookingStore = (arr, id) =>{
    return arr.map(item =>{
        return item.map(element =>{
            if(element.id === id){
                element.fullName = '';
                element.date = '';
                element.occupation = false;
                return element;
            }
            return element;
        })
    })
}

const editeBookingStore = (arr, payload) =>{
    return arr.map(item =>{
        return item.map(element =>{
            if(element.id === payload.id){
                element.fullName = payload.fullName;
                return element;
            }
            return element;
        })
    })
}

export const cinemaReducer = (state = defaultState, action) =>{
    switch(action.type){

        case ACTION_TYPE.BOOKING:
            return {...state, cinemaList: bookingStore(state.cinemaList, action.payload)}

        case ACTION_TYPE.DELETE_BOOKING:
            return {...state, cinemaList: deleteBookingStore(state.cinemaList, action.payload)};
        
        case ACTION_TYPE.EDITE_NAME:
            return {...state, cinemaList: editeBookingStore(state.cinemaList, action.payload)};

        default:
            return state;
    }
};

export const booking = (payload) => ({type: ACTION_TYPE.BOOKING, payload});
export const deleteBooking = (payload) => ({type: ACTION_TYPE.DELETE_BOOKING, payload});
export const editeFullNameChange = (payload) => ({type: ACTION_TYPE.EDITE_NAME, payload});
